<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Hospital Favaloro</title>
        {% load static %}
        <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
        <link rel="icon" type="image/x-icon" href="../../../../static/faviconFavaloro.png" />
        <link rel="stylesheet" href="{% static 'css-dash/styles.css' %}">
        
        <script data-search-pseudo-elements defer src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.29.0/feather.min.js" crossorigin="anonymous"></script>
        <script src="{% static 'js-dash/scripts.js' %}"></script>
        {% block script %} {% endblock %}

    </head>
    <body class="nav-fixed">
        <nav class="topnav navbar navbar-expand shadow justify-content-between justify-content-sm-start navbar-light bg-white" id="sidenavAccordion">
            <!-- Sidenav Toggle Button-->
            <button class="btn btn-icon btn-transparent-dark order-1 order-lg-0 me-2 ms-lg-2 me-lg-0" id="sidebarToggle"><i data-feather="menu"></i></button>
            <!-- Navbar Brand-->
            <!-- * * Tip * * You can use text or an image for your navbar brand.-->
            <!-- * * * * * * When using an image, we recommend the SVG format.-->
            <!-- * * * * * * Dimensions: Maximum height: 32px, maximum width: 240px-->
            {% if not user.is_authenticated %}
                <a class="navbar-brand pe-3 ps-4 ps-lg-2" href="#"><img src="{% static '/img/Fundacion-Favaloro.jpg' %}" class="img-fluid" alt="" style="width:140px;height:50px; margin: .5rem;"></a>
            {% else %}
            {% if user.is_staff %}
                <a class="navbar-brand pe-3 ps-4 ps-lg-2" href="{% url 'admin-dashboard' %}"><img src="{% static '/img/Fundacion-Favaloro.jpg' %}" class="img-fluid" alt="" style="width:140px;height:50px; margin: .5rem;"></a>
            {% elif user.groups.first.name == 'MEDICO' %}
                <a class="navbar-brand pe-3 ps-4 ps-lg-2" href="{% url 'medico-dashboard' %}"><img src="{% static '/img/Fundacion-Favaloro.jpg' %}" class="img-fluid" alt="" style="width:140px;height:50px; margin: .5rem;"></a>
            {% else %}
                <a class="navbar-brand pe-3 ps-4 ps-lg-2" href="{% url 'paciente-dashboard' %}"><img src="{% static '/img/Fundacion-Favaloro.jpg' %}" class="img-fluid" alt="" style="width:140px;height:50px; margin: .5rem;"></a>
            {% endif %}
            <!-- Navbar Search Input-->
            <!-- * * Note: * * Visible only on and above the lg breakpoint-->
            <form class="form-inline me-auto d-none d-lg-block me-10" style="width:25vw;">
                <div class="input-group input-group-joined input-group-solid">
                    <input class="form-control pe-0" type="search" placeholder="Ingrese su búsqueda" aria-label="Search" />
                    <div class="input-group-text"><i data-feather="search"></i></div>
                </div>
            </form>
            <!-- Navbar Items-->
            <ul class="navbar-nav align-items-center ms-auto">
                <!-- Navbar Search Dropdown-->
                <!-- * * Note: * * Visible only below the lg breakpoint-->
                <li class="nav-item dropdown no-caret me-3 d-lg-none">
                    <a class="btn btn-icon btn-transparent-dark dropdown-toggle" id="searchDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i data-feather="search"></i></a>
                    <!-- Dropdown - Search-->
                    <div class="dropdown-menu dropdown-menu-end p-3 shadow animated--fade-in-up" aria-labelledby="searchDropdown">
                        <form class="form-inline me-auto w-100">
                            <div class="input-group input-group-joined input-group-solid">
                                <input class="form-control pe-0" type="text" placeholder="Ingrese su búsqueda" aria-label="Search" aria-describedby="basic-addon2" />
                                <div class="input-group-text"><i data-feather="search"></i></div>
                            </div>
                        </form>
                    </div>
                </li>
                <!-- Alerts Dropdown-->
                <li class="nav-item dropdown no-caret d-none d-sm-block me-3 dropdown-notifications">
                    <a class="btn btn-icon btn-transparent-dark dropdown-toggle" id="navbarDropdownAlerts" href="javascript:void(0);" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i data-feather="bell"></i></a>
                    <div class="dropdown-menu dropdown-menu-end border-0 shadow animated--fade-in-up" aria-labelledby="navbarDropdownAlerts">
                        <h6 class="dropdown-header dropdown-notifications-header">
                            <i class="me-2" data-feather="bell"></i>
                            Notificaciones
                        </h6>
                        <!-- Example Alert 1-->
                        <a class="dropdown-item dropdown-notifications-item" href="#!">
                            <div class="dropdown-notifications-item-icon bg-warning"><i data-feather="activity"></i></div>
                            <div class="dropdown-notifications-item-content">
                                <div class="dropdown-notifications-item-content-details">Septiembre 1, 2023</div>
                                <div class="dropdown-notifications-item-content-text">Nueva notificación</div>
                            </div>
                        </a>
                        <a class="dropdown-item dropdown-notifications-footer" href="#!">Ver todas las notificaciones</a>
                    </div>
                </li>
                <!-- Messages Dropdown-->
                <li class="nav-item dropdown no-caret d-none d-sm-block me-3 dropdown-notifications">
                    <a class="btn btn-icon btn-transparent-dark dropdown-toggle" id="navbarDropdownMessages" href="javascript:void(0);" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i data-feather="mail"></i></a>
                    <div class="dropdown-menu dropdown-menu-end border-0 shadow animated--fade-in-up" aria-labelledby="navbarDropdownMessages">
                        <h6 class="dropdown-header dropdown-notifications-header">
                            <i class="me-2" data-feather="mail"></i>
                            Mensajes
                        </h6>
                        <!-- Example Message 1  -->
                        <a class="dropdown-item dropdown-notifications-item" href="#!">
                            <div class="dropdown-notifications-item-content">
                                <div class="dropdown-notifications-item-content-text">Ver más...</div>
                                <div class="dropdown-notifications-item-content-details">Thomas Wilcox · 58m</div>
                            </div>
                        </a>
                        <!-- Footer Link-->
                        <a class="dropdown-item dropdown-notifications-footer" href="#!">Ver todos los mensajes</a>
                    </div>
                </li>
                <!-- User Dropdown-->
                <li class="nav-item dropdown no-caret dropdown-user me-3 me-lg-4">
                    <a class="btn btn-icon btn-transparent-dark dropdown-toggle" id="navbarDropdownUserImage" href="javascript:void(0);" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img class="img-fluid" src="{% static '/img/foto-perfil-default.jpg' %}" /></a>
                    <div class="dropdown-menu dropdown-menu-end border-0 shadow animated--fade-in-up" aria-labelledby="navbarDropdownUserImage">
                        <h6 class="dropdown-header d-flex align-items-center">
                            <img class="dropdown-user-img" src="{% static '/img/foto-perfil-default.jpg' %}" />
                            <div class="dropdown-user-details">
                                <div class="dropdown-user-details-name">{{ user.username }}</div>
                                <div class="dropdown-user-details-email">{{ user.email }}</div>
                            </div>
                        </h6>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="{% url 'mi-perfil' %}">
                            <div class="dropdown-item-icon"><i data-feather="info"></i></div>
                            Mi cuenta
                        </a>
                        <a class="dropdown-item" href="{% url 'password_change' %}">
                            <div class="dropdown-item-icon"><i data-feather="settings"></i></div>
                            Cambiar contraseña
                        </a>
                        <a class="dropdown-item" href="{% url 'logout' %}">
                            <div class="dropdown-item-icon"><i data-feather="log-out"></i></div>
                            Cerrar sesión
                        </a>
                    </div>
                </li>
            </ul>
            {% endif %}
        </nav>
        <div id="layoutSidenav">
            <div id="layoutSidenav_nav">
                <nav class="sidenav shadow-right sidenav-light">
                    {% if user.is_authenticated %}
                    <div class="sidenav-menu">
                        <div class="nav accordion" id="accordionSidenav">
                            <!-- Sidenav Menu Heading (Core)-->
                            <div class="sidenav-menu-heading">Administración</div>
                            <!-- Sidenav Accordion (Dashboard)-->
                            {% if user.is_staff %}
                            <a class="nav-link" href="{% url 'admin-dashboard' %}">
                            {% elif user.groups.first.name == 'MEDICO' %}
                            <a class="nav-link" href="{% url 'medico-dashboard' %}">
                            {% else %}
                            <a class="nav-link" href="{% url 'paciente-dashboard' %}">
                            {% endif %}
                                <div class="nav-link-icon"><i data-feather="activity"></i></div>
                                Inicio
                            </a>
                            <!-- Sidenav Heading (Custom)-->
                            <!--<div class="sidenav-menu-heading">Funciones</div>-->
                            {% if user.is_staff %}
                            <!-- Sidenav Accordion (Pages)-->
                            <a class="nav-link collapsed" href="javascript:void(0);" data-bs-toggle="collapse" data-bs-target="#collapsePages" aria-expanded="false" aria-controls="collapsePages">
                                <div class="nav-link-icon"><i data-feather="users"></i></div>
                                Usuarios
                                <div class="sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                            </a>
                            <div class="collapse" id="collapsePages" data-bs-parent="#accordionSidenav">
                                <nav class="sidenav-menu-nested nav accordion" id="accordionSidenavPagesMenu">
                                    <a class="nav-link" href="{% url 'list_usuarios' %}">Lista de usuarios</a>
                                    <a class="nav-link" href="{% url 'groups_usuarios' %}">Grupos de usuarios</a>
                                </nav>
                            </div>
                            <!-- Sidenav Accordion (Flows)-->
                            <a class="nav-link collapsed" href="javascript:void(0);" data-bs-toggle="collapse" data-bs-target="#collapseFlows" aria-expanded="false" aria-controls="collapseFlows">
                                <div class="nav-link-icon"><i data-feather="user-plus"></i></div>
                                Médicos
                                <div class="sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                            </a>
                            <div class="collapse" id="collapseFlows" data-bs-parent="#accordionSidenav">
                                <nav class="sidenav-menu-nested nav">
                                    <a class="nav-link" href="{% url 'list_medicos' %}">Lista de médicos</a>
                                    <a class="nav-link" href="{% url 'add_medico' %}">Agregar médico</a>
                                </nav>
                            </div>
                            {% endif %}
                            {% if not user.groups.first.name == 'PACIENTE' %}
                            <!-- Sidenav Accordion (Applications)-->
                            <a class="nav-link collapsed" href="javascript:void(0);" data-bs-toggle="collapse" data-bs-target="#collapseApps" aria-expanded="false" aria-controls="collapseApps">
                                <div class="nav-link-icon"><i data-feather="user"></i></div>
                                Pacientes
                                <div class="sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                            </a>
                            <div class="collapse" id="collapseApps" data-bs-parent="#accordionSidenav">
                                <nav class="sidenav-menu-nested nav">
                                    <a class="nav-link" href="{% url 'list_pacientes' %}">Listar pacientes</a>
                                    <a class="nav-link" href="{% url 'add_paciente' %}">Agregar paciente</a>
                                </nav>
                            </div>
                            {% endif %}
                            <!-- Sidenav Accordion (Pages)-->
                            {% if user.groups.first.name == 'PACIENTE' %}
                            <a class="nav-link" href="{% url 'list_encuestas' %}">
                                <div class="nav-link-icon"><i data-feather="list"></i></div>
                                Mis Encuestas
                            </a>
                            {% else %}
                            <a class="nav-link collapsed" href="javascript:void(0);" data-bs-toggle="collapse" data-bs-target="#collapseSurvey" aria-expanded="false" aria-controls="collapseSurvey">
                                <div class="nav-link-icon"><i data-feather="list"></i></div>
                                Encuestas
                                <div class="sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                            </a>
                            <div class="collapse" id="collapseSurvey" data-bs-parent="#accordionSidenav">
                                <nav class="sidenav-menu-nested nav accordion" id="accordionSidenavPagesMenu">
                                    <a class="nav-link" href="{% url 'list_encuestas' %}">Listar encuestas</a>
                                </nav>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                    <!-- Sidenav Footer-->
                    <div class="sidenav-footer">
                        <div class="sidenav-footer-content">
                            <div class="sidenav-footer-subtitle">Sesión iniciada como:</div>
                            <div class="sidenav-footer-title">{{ user.username }}</div>
                        </div>
                    </div>
                {% endif %}
                </nav>
            </div>
            <div id="layoutSidenav_content">
                <main>
                    <header class="page-header page-header-compact page-header-light border-bottom bg-white mb-4">
                        {% block encabezado %} {% endblock %}
                    </header>
                    {% block contenido %} {% endblock %}
                </main>    
                <footer class="footer-admin mt-auto footer-light">
                    <div class="container-xl px-4">
                        <div class="row">
                            <div class="col-md-6 small">Copyright &copy; Your Website 2023</div>
                            <div class="col-md-6 text-md-end small">
                                <a href="#!">Privacy Policy</a>
                                &middot;
                                <a href="#!">Terms &amp; Conditions</a>
                            </div>
                        </div>
                    </div>
                </footer>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js" crossorigin="anonymous"></script>
        <script src="{% static 'js/scripts.js'%}"></script>
    </body>
</html>
